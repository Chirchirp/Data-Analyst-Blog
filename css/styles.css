<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Responsive Example — Container + Interactive UI</title>

  <!-- Google fonts used in your original CSS -->
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Playfair+Display:wght@600;700&family=Source+Serif+4:opsz,wght@8..72,300;8..72,600&display=swap" rel="stylesheet">

  <style>
  /* ================================================
     DESIGN TOKENS & GLOBALS (single place for tuning)
  ================================================ */
  :root{
    --black:#0a0a0a;
    --white:#fafafa;
    --g100:#f4f4f4;
    --g200:#e4e4e4;
    --g300:#c8c8c8;
    --g400:#9e9e9e;
    --g500:#767676;
    --g600:#525252;
    --g700:#333333;
    --g800:#1c1c1c;

    --ff-display:'Playfair Display', Georgia, serif;
    --ff-body:'Source Serif 4', Georgia, serif;
    --ff-mono:'JetBrains Mono', 'Courier New', monospace;

    --measure: 70ch;            /* comfortable line length */
    --measure-mobile: 60ch;
    --header-h: 62px;
    --header-h-mobile: 56px;

    /* responsive padding: single variable to avoid duplication */
    --site-padding: clamp(0.9rem, 3.5vw, 1.6rem);

    /* transitions */
    --t-fast: 0.18s;
    --t-med: 0.35s;
    --t-slow: 0.55s;
    --ease-out: cubic-bezier(0.16,1,0.3,1);
    --ease-in: cubic-bezier(0.7,0,0.84,0);
  }

  /* ========== Reset & Base ========== */
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  html{scroll-behavior:smooth;font-size:17px}
  body{
    font-family:var(--ff-body);
    background:var(--white);
    color:var(--g800);
    line-height:1.75;
    -webkit-font-smoothing:antialiased;
    overflow-x:hidden;
  }
  img{max-width:100%;height:auto;display:block}
  a{color:inherit;text-decoration:none}
  button{font-family:var(--ff-body);cursor:pointer}
  /* avoid long unbroken words cutting layout */
  *{overflow-wrap:anywhere}

  /* ========== CONTAINER (single padding source) ==========
     Use this on the main inner wrappers to avoid repeating left/right padding.
     It also includes safe-area insets for iOS notch devices.
  */
  .container{
    max-width:1200px;
    margin-inline:auto;
    padding-left: calc(var(--site-padding) + env(safe-area-inset-left));
    padding-right: calc(var(--site-padding) + env(safe-area-inset-right));
    /* fallbacks for older browsers */
    padding-inline: var(--site-padding);
  }

  /* ========== Header ========== */
  .site-header{
    position:fixed; inset-inline:0; top:0;
    height:var(--header-h); background:var(--white);
    border-bottom:1px solid var(--g200); z-index:200;
    display:flex; align-items:center;
    transition:box-shadow var(--t-med), background var(--t-med);
  }
  .site-header.scrolled{box-shadow:0 2px 20px rgba(0,0,0,.07)}
  .header-inner{display:flex;align-items:center;justify-content:space-between;width:100%}

  .site-logo{
    font-family:var(--ff-display);font-weight:700;font-size:1.15rem;
    letter-spacing:-.02em;color:var(--black); user-select:none;
  }
  .site-logo span{color:var(--g400)}

  /* nav links */
  .nav-links{display:flex;gap:2.25rem;list-style:none;align-items:center}
  .nav-links a{font-size:.8rem;letter-spacing:.1em;text-transform:uppercase;color:var(--g500);position:relative}
  .nav-links a::after{content:'';position:absolute;bottom:-2px;left:0;right:0;height:1px;background:var(--black);transform:scaleX(0);transform-origin:left;transition:transform var(--t-med)}
  .nav-links a:hover{color:var(--black)}
  .nav-links a:hover::after{transform:scaleX(1)}

  .btn-cta{
    background:var(--black);color:var(--white);padding:.42rem 1.1rem;border-radius:2px;
    font-size:.76rem;letter-spacing:.08em;border:none;
  }

  /* hamburger for small screens */
  .hamburger{
    display:none;background:none;border:none;flex-direction:column;gap:5px;padding:4px;
  }
  .hamburger span{display:block;width:22px;height:1.5px;background:var(--black);transition:transform var(--t-med),opacity var(--t-fast)}
  .hamburger.open span:nth-child(1){transform: translateY(6.5px) rotate(45deg)}
  .hamburger.open span:nth-child(2){opacity:0;transform:scaleX(0)}
  .hamburger.open span:nth-child(3){transform: translateY(-6.5px) rotate(-45deg)}

  /* mobile nav drop (reuses container padding) */
  .nav-drop{
    display:none;
    position:fixed; top:var(--header-h); left:0; right:0; background:var(--white);
    border-bottom:1px solid var(--g200); z-index:199;
  }
  .nav-drop .nav-links{flex-direction:column;padding-block:1rem;gap:1.1rem}

  /* ========== Reading progress bar ========== */
  #reading-progress{
    position:fixed; left:0; top:var(--header-h); height:2px; background:var(--black);
    z-index:300; width:0%; pointer-events:none; transition:width .1s linear;
  }

  /* ========== Hero ========== */
  .hero{
    margin-top:var(--header-h);
    padding-block:5.5rem;
    position:relative;border-bottom:1px solid var(--g200);
  }
  .hero-inner{max-width:880px;margin-inline:auto}
  .hero-eyebrow{font-size:.74rem;letter-spacing:.2em;text-transform:uppercase;color:var(--g400);margin-bottom:1.4rem;display:flex;align-items:center;gap:.75rem}
  .hero-eyebrow::before{content:'';width:28px;height:1px;background:var(--g300)}
  .hero-title{
    font-family:var(--ff-display);font-weight:700;line-height:1.13;
    font-size:clamp(2.4rem,5.5vw,3.8rem);margin-bottom:1.6rem; color:var(--black);
  }
  .hero-sub{font-size:1.05rem;color:var(--g600);max-width:54ch;line-height:1.75;margin-bottom:2.5rem}
  .hero-stats{display:flex;gap:3rem;flex-wrap:wrap;border-top:1px solid var(--g200);padding-top:1.75rem}

  /* subtle hero decoration — limited width so it won't overflow */
  .hero::before{
    content:'';position:absolute;top:0;right:0;height:100%;
    width:clamp(120px,35%,340px);
    background-image:repeating-linear-gradient(0deg,transparent,transparent 28px,var(--g200) 28px,var(--g200) 29px);
    opacity:.45;pointer-events:none;
  }

  /* ========== Main layout ========== */
  .main-layout{
    display:grid; grid-template-columns:1fr 300px; gap:5rem;
    padding-block:3.5rem;
  }

  /* small helper classes */
  .section-label{font-size:.7rem;letter-spacing:.22em;text-transform:uppercase;color:var(--g400);margin-bottom:1.75rem;padding-bottom:.75rem;border-bottom:1px solid var(--g200);display:flex;align-items:center;gap:.6rem}
  .featured-post{margin-bottom:3.5rem;padding-bottom:3.5rem;border-bottom:1px solid var(--g200)}
  .featured-badge{display:inline-flex;align-items:center;gap:.4rem;font-size:.67rem;text-transform:uppercase;color:var(--white);background:var(--black);padding:.28rem .7rem;margin-bottom:1.1rem}
  .featured-post h2{font-family:var(--ff-display);font-size:clamp(1.5rem,3vw,2.15rem);line-height:1.25;margin-bottom:.85rem;font-weight:600;color:var(--black)}

  /* post list */
  .post-list{display:flex;flex-direction:column}
  .post-card{padding:1.85rem 0;border-bottom:1px solid var(--g200);display:grid;grid-template-columns:1fr auto;gap:1.5rem;align-items:start}
  .post-card-first { border-top:1px solid var(--g200); }

  /* sidebar */
  .sidebar{position:sticky;top:calc(var(--header-h) + 2rem)}
  .sidebar-block{border:1px solid var(--g200);padding:1.5rem;margin-bottom:2rem;transition:box-shadow var(--t-med)}
  .sidebar-block:hover{box-shadow:0 4px 24px rgba(0,0,0,.06)}

  /* article body & content */
  .article-body{display:grid;grid-template-columns:1fr 260px;gap:5.5rem;padding-block:3.5rem}
  .article-content{max-width:var(--measure)}
  .article-content p{color:var(--g700);font-size:1rem;line-height:1.88;margin-bottom:1.5rem}
  .article-content h2{font-family:var(--ff-display);font-size:1.6rem;margin:3rem 0 1.1rem;padding-top:3rem;border-top:1px solid var(--g200)}
  .article-content h3{font-family:var(--ff-display);font-size:1.2rem;margin:2rem 0 .8rem}
  .article-content ul, .article-content ol{margin:.25rem 0 1.5rem 1.4rem}
  .article-content li{margin-bottom:.6rem;line-height:1.78}

  /* code, tables */
  .code-wrap{margin:2rem 0;border:1px solid var(--g200);overflow:hidden}
  .code-header{display:flex;justify-content:space-between;align-items:center;background:var(--g800);color:var(--g400);padding:.55rem 1rem;font-family:var(--ff-mono);font-size:.68rem}
  pre{background:var(--black);color:#d4d4d4;padding:1.5rem;overflow-x:auto;font-family:var(--ff-mono);font-size:.8rem;line-height:1.65;margin:0}

  .data-table-wrap{margin:2rem 0;overflow-x:auto;border:1px solid var(--g200)}
  .data-table{width:100%;border-collapse:collapse;font-size:.84rem}
  .data-table thead{background:var(--black);color:var(--white)}
  .data-table th{padding:.7rem 1rem;text-align:left;font-family:var(--ff-mono);font-size:.7rem}
  .data-table td{padding:.65rem 1rem;border-bottom:1px solid var(--g100);color:var(--g700)}

  /* modal (centered) */
  .modal-overlay{display:none;position:fixed;inset:0;align-items:center;justify-content:center;padding:1rem;z-index:400}
  .modal-overlay.open{display:flex;background:rgba(0,0,0,.55);animation:modal-bg-in var(--t-med) forwards}
  @keyframes modal-bg-in{from{background:rgba(0,0,0,0)}to{background:rgba(0,0,0,.55)}}
  .modal-box{background:var(--white);max-width:540px;width:100%;padding:2.25rem;max-height:90vh;overflow-y:auto;border-radius:6px}
  .modal-close-btn{position:absolute;right:1.4rem;top:1.1rem;background:none;border:none;font-size:1.2rem;cursor:pointer;color:var(--g400)}

  /* footer */
  .site-footer{border-top:1px solid var(--g200);padding:3rem 0 2rem;background:var(--white)}
  .footer-inner{display:grid;grid-template-columns:1.5fr 1fr 1fr;gap:4rem}

  /* small helpers */
  .muted{color:var(--g500)}
  .small{font-size:.85rem}

  /* ================================================
     RESPONSIVE (single small-screen overrides and re-uses container)
  ================================================ */
  @media (max-width:960px){
    .main-layout{grid-template-columns:1fr;gap:3rem}
    .article-body{grid-template-columns:1fr;gap:2.5rem}
    .footer-inner{grid-template-columns:1fr 1fr;gap:2.5rem}
    .sidebar{position:static}
  }

  @media (max-width:640px){
    html{font-size:16px}
    /* use smaller header & smaller measure on phones */
    :root{--measure:var(--measure-mobile}
    .site-header{height:var(--header-h-mobile)}
    /* container is still applied to inner wrappers so we keep consistent padding */
    .hamburger{display:flex}
    .nav-links{display:none}
    .nav-drop{display:none}
    .nav-drop.open{display:block}
    .hero{padding-block:3.5rem}
    .main-layout{padding-block:2.5rem}
    .article-body{padding-block:2rem}
    .footer-inner{grid-template-columns:1fr}
    .footer-bottom{flex-direction:column;align-items:flex-start}
    .post-card{grid-template-columns:1fr;gap:.75rem}
    .post-card-right{flex-direction:row;align-items:center}
    .hero-title{font-size:clamp(1.9rem,6.5vw,3rem)}
    .hero-inner{max-width:92%}
    .hero::before{width:clamp(90px,40%,240px);right:var(--site-padding);opacity:.35}
    /* nav drop uses the same container padding so it won't touch edges */
    .nav-drop .container{padding-block:.75rem}
    /* modal should never hit edges */
    .modal-box{padding:1.25rem;max-width:calc(100% - (var(--site-padding) * 2));}
    /* reading progress below reduced header */
    #reading-progress{top:var(--header-h-mobile)}
  }

  @media (max-width:380px){
    .hero-title{font-size:2rem}
  }

  /* reduced-motion */
  @media (prefers-reduced-motion:reduce){
    *,*::before,*::after{animation-duration:.01ms !important;transition-duration:.01ms !important}
  }
  </style>
</head>
<body>

  <!-- skip link for keyboard users -->
  <a href="#main" class="skip-link" style="position:absolute;left:1rem;top:-60px;background:var(--black);color:var(--white);padding:.5rem 1rem;z-index:9999">Skip to content</a>

  <header class="site-header" id="siteHeader" role="banner">
    <div class="header-inner container">
      <div class="site-logo" aria-hidden="false">My<span>Site</span></div>

      <!-- desktop nav (hidden on small screens) -->
      <nav aria-label="Primary navigation">
        <ul class="nav-links" id="navLinks">
          <li><a href="#">Home</a></li>
          <li><a href="#">Articles</a></li>
          <li><a href="#">Projects</a></li>
          <li><a href="#">About</a></li>
        </ul>
      </nav>

      <div style="display:flex;align-items:center;gap:.85rem;">
        <button class="btn-cta small" id="openModalBtn" aria-haspopup="dialog">Subscribe</button>
        <button class="hamburger" id="hamburger" aria-label="Toggle navigation" aria-expanded="false" aria-controls="mobileNav">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>

    <!-- mobile nav drop (re-uses .container for padding) -->
    <div class="nav-drop" id="mobileNav" aria-hidden="true">
      <div class="container">
        <ul class="nav-links" style="flex-direction:column;">
          <li><a href="#">Home</a></li>
          <li><a href="#">Articles</a></li>
          <li><a href="#">Projects</a></li>
          <li><a href="#">About</a></li>
        </ul>
      </div>
    </div>
  </header>

  <!-- reading progress -->
  <div id="reading-progress" aria-hidden="true"></div>

  <!-- HERO -->
  <section class="hero" role="region" aria-label="Introduction">
    <div class="hero-inner container">
      <div class="hero-eyebrow">Feature</div>
      <h1 class="hero-title">A responsive layout that breathes <em>on phones</em>.</h1>
      <p class="hero-sub">This example centralises spacing in a single <code>--site-padding</code> variable and uses a reusable <code>.container</code> so elements never hug device edges or overflow the viewport. Try resizing the viewport to test.</p>

      <div class="hero-stats">
        <div class="stat">
          <span class="stat-num">2.3K</span>
          <span class="stat-label">readers</span>
        </div>
        <div class="stat">
          <span class="stat-num">120</span>
          <span class="stat-label">articles</span>
        </div>
      </div>
    </div>
  </section>

  <!-- MAIN -->
  <main id="main" class="container" role="main">
    <div class="main-layout">

      <section style="min-width:0"> <!-- left column (posts) -->
        <div class="featured-post">
          <span class="featured-badge">Featured</span>
          <h2><a href="#">How we improved mobile spacing without repeating CSS</a></h2>
          <p class="post-excerpt muted">Short summary that fits well and will not be clipped on small devices due to container padding and sensible max-widths.</p>
          <div class="post-footer" style="margin-top:1rem;">
            <span class="post-meta muted">Mar 3 • 6 min read</span>
          </div>
        </div>

        <div class="post-list">
          <article class="post-card">
            <div class="post-card-left">
              <h3><a href="#">Design tokens: single source of truth</a></h3>
              <p class="card-snippet muted">Use variables for spacing, fonts and colours so you only change things in one place.</p>
            </div>
            <div class="post-card-right">
              <span class="read-time muted">4 min</span>
            </div>
          </article>

          <article class="post-card">
            <div class="post-card-left">
              <h3><a href="#">Avoiding full-bleed on phones</a></h3>
              <p class="card-snippet muted">Clamp values, use container padding, and never rely on 100vw for width.</p>
            </div>
            <div class="post-card-right">
              <span class="read-time muted">3 min</span>
            </div>
          </article>
        </div>
      </section>

      <!-- sidebar -->
      <aside class="sidebar" aria-label="Sidebar">
        <div class="sidebar-block">
          <h4 style="font-family:var(--ff-display);margin-bottom:.75rem">About</h4>
          <p class="about-text muted">This demo shows a minimal, reusable approach to spacing so you don't duplicate rules and texts do not get cut off on small devices.</p>
          <button class="btn-cta small" id="openModalBtn2">Get updates</button>
        </div>

        <div class="sidebar-block">
          <h4 style="font-family:var(--ff-display);margin-bottom:.75rem">Topics</h4>
          <ul style="list-style:none;padding-left:0;display:flex;flex-direction:column;gap:.5rem">
            <li><a class="muted" href="#">CSS</a></li>
            <li><a class="muted" href="#">Accessibility</a></li>
            <li><a class="muted" href="#">Performance</a></li>
          </ul>
        </div>
      </aside>

    </div> <!-- main-layout -->
  </main>

  <!-- ARTICLE EXCERPT (separate section to demonstrate content) -->
  <section class="article-body container" aria-label="Article example">
    <div class="article-content">
      <h2>Practical steps</h2>
      <p>Use a centralised container class to handle left/right padding. This keeps spacing consistent and avoids the need to repeat <code>padding-left</code> or <code>padding-right</code> across many selectors.</p>

      <h3>Code example</h3>
      <div class="code-wrap">
        <div class="code-header">
          <span class="code-lang">CSS</span>
          <span class="muted small">example.css</span>
        </div>
        <pre><code>:root{--site-padding:clamp(.9rem,3.5vw,1.6rem)} .container{padding-inline:var(--site-padding)}</code></pre>
      </div>

      <h3>Table demo</h3>
      <div class="data-table-wrap">
        <table class="data-table" role="table" aria-label="Example table">
          <thead><tr><th>Name</th><th>Category</th><th>Visits</th></tr></thead>
          <tbody>
            <tr><td>Design tokens</td><td>CSS</td><td>1,200</td></tr>
            <tr><td>Responsive hero</td><td>Layout</td><td>900</td></tr>
          </tbody>
        </table>
      </div>

      <p>Long words will wrap rather than overflow or be clipped thanks to <code>overflow-wrap: anywhere</code> applied globally in this example.</p>
    </div>

    <!-- article sidebar small -->
    <div style="min-width:0">
      <div class="sidebar-block">
        <h4 style="font-family:var(--ff-display);margin-bottom:.75rem">On this page</h4>
        <nav><ul style="list-style:none;padding-left:0"><li><a class="muted" href="#">Practical steps</a></li><li><a class="muted" href="#">Code example</a></li></ul></nav>
      </div>
    </div>
  </section>

  <!-- footer -->
  <footer class="site-footer" role="contentinfo">
    <div class="footer-inner container">
      <div class="footer-brand">
        <div class="site-logo" style="font-size:1rem;margin-bottom:.5rem">My<span>Site</span></div>
        <p class="muted">Small site demo — responsive spacing and accessible UI.</p>
      </div>

      <div>
        <h5 style="font-family:var(--ff-mono);font-size:.68rem;margin-bottom:.75rem;color:var(--g400)">Links</h5>
        <div style="display:flex;flex-direction:column;gap:.5rem">
          <a class="muted" href="#">About</a>
          <a class="muted" href="#">Contact</a>
        </div>
      </div>

      <div>
        <h5 style="font-family:var(--ff-mono);font-size:.68rem;margin-bottom:.75rem;color:var(--g400)">Legal</h5>
        <div style="display:flex;flex-direction:column;gap:.5rem">
          <a class="muted" href="#">Privacy</a>
          <a class="muted" href="#">Terms</a>
        </div>
      </div>
    </div>

    <div class="container" style="padding-top:1.25rem;border-top:1px solid var(--g200);display:flex;justify-content:space-between;flex-wrap:wrap">
      <div class="small muted">© <span id="year"></span> MySite — All rights reserved</div>
      <div class="small muted">Built responsively</div>
    </div>
  </footer>

  <!-- MODAL -->
  <div class="modal-overlay" id="modalOverlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-box" role="document" aria-labelledby="modalTitle">
      <button class="modal-close-btn" id="modalCloseBtn" aria-label="Close modal">✕</button>
      <h2 id="modalTitle" style="font-family:var(--ff-display);margin-bottom:1rem">Subscribe</h2>
      <p class="muted">Enter your email to get updates. This modal is padded by the container rules and will never touch the viewport edges on small devices.</p>
      <form onsubmit="event.preventDefault(); alert('Thanks! (demo)')">
        <div style="margin-top:1rem">
          <label style="display:block;font-size:.9rem;color:var(--g600);margin-bottom:.35rem">Email</label>
          <input type="email" required style="width:100%;padding:.6rem;border:1px solid var(--g200)"/>
        </div>
        <div style="margin-top:1rem">
          <button class="btn-submit" style="background:var(--black);color:var(--white);padding:.6rem .9rem;border:none">Subscribe</button>
        </div>
      </form>
    </div>
  </div>

  <script>
  // small interactive JS for nav, modal, reading progress and header state
  (function(){
    const hamburger = document.getElementById('hamburger');
    const mobileNav = document.getElementById('mobileNav');
    const siteHeader = document.getElementById('siteHeader');
    const reading = document.getElementById('reading-progress');
    const openModalBtns = document.querySelectorAll('#openModalBtn, #openModalBtn2');
    const modalOverlay = document.getElementById('modalOverlay');
    const modalCloseBtn = document.getElementById('modalCloseBtn');

    // set year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // hamburger toggle
    hamburger.addEventListener('click', () => {
      const expanded = hamburger.classList.toggle('open');
      hamburger.setAttribute('aria-expanded', expanded);
      mobileNav.classList.toggle('open');
      mobileNav.setAttribute('aria-hidden', String(!expanded));
    });

    // modal open/close
    openModalBtns.forEach(btn => btn.addEventListener('click', () => {
      modalOverlay.classList.add('open');
      modalOverlay.setAttribute('aria-hidden', 'false');
      // trap focus lightly: focus close button
      setTimeout(()=> modalCloseBtn.focus(), 150);
    }));
    function closeModal(){
      modalOverlay.classList.remove('open');
      modalOverlay.setAttribute('aria-hidden', 'true');
    }
    modalCloseBtn.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', (e) => {
      if(e.target === modalOverlay) closeModal();
    });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape') {
        // close modal or mobile nav
        if(modalOverlay.classList.contains('open')) closeModal();
        if(hamburger.classList.contains('open')) {
          hamburger.classList.remove('open');
          mobileNav.classList.remove('open');
          hamburger.setAttribute('aria-expanded','false');
        }
      }
    });

    // reading progress: compute percent of document read (basic)
    function updateReadingProgress(){
      const docHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
      const winHeight = window.innerHeight;
      const scrollTop = window.scrollY || window.pageYOffset;
      const progress = Math.max(0, Math.min(1, scrollTop / (docHeight - winHeight)));
      reading.style.width = (progress * 100) + '%';
    }
    window.addEventListener('scroll', () => {
      updateReadingProgress();
      // header shadow toggling
      const scrolled = window.scrollY > 10;
      siteHeader.classList.toggle('scrolled', scrolled);
    }, {passive:true});
    window.addEventListener('resize', updateReadingProgress);
    updateReadingProgress();

    // ensure modals and nav do not cause page scroll jump on mobile (optional)
    // when nav open, prevent body scroll
    const observer = new MutationObserver(() => {
      if(mobileNav.classList.contains('open') || modalOverlay.classList.contains('open')){
        document.documentElement.style.overflow = 'hidden';
        document.body.style.overflow = 'hidden';
      } else {
        document.documentElement.style.overflow = '';
        document.body.style.overflow = '';
      }
    });
    observer.observe(document.body, { attributes: true, subtree: true, attributeFilter: ['class'] });
  })();
  </script>

</body>
</html>
